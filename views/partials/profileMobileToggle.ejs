<!-- Mobile Menu Button -->
<button class="profile-mobile-toggle-btn" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
</button>

<!-- Sidebar Overlay -->
<div id="sidebarOverlay" class="sidebar-overlay" onclick="toggleSidebar()"></div>

<style>
    .profile-mobile-toggle-btn {
        position: fixed;
        top: 90px;
        left: 20px;
        z-index: 1001;
        /* Above header if needed, but below sidebar */
        background: white;
        border-radius: 50%;
        padding: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
        border: 1px solid #e5e7eb;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        width: 44px;
        height: 44px;
        transition: transform 0.2s, background 0.2s;
    }

    .profile-mobile-toggle-btn:hover {
        background: #f9fafb;
    }

    .profile-mobile-toggle-btn:active {
        transform: scale(0.95);
    }

    .profile-mobile-toggle-btn i {
        font-size: 20px;
        color: #374151;
    }

    @media (max-width: 768px) {
        .profile-mobile-toggle-btn {
            display: flex;
        }
    }
</style>

<script>
    if (typeof window.toggleSidebar !== 'function') {
        window.toggleSidebar = function () {
            const sidebar = document.getElementById('mobileSidebar') || document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');

            if (sidebar) {
                sidebar.classList.toggle('active');
            }
            if (overlay) {
                overlay.classList.toggle('active');
            }
        };

        // Close sidebar when clicking menu items on mobile
        document.addEventListener('click', function (e) {
            const menuItem = e.target.closest('.menu-item') || e.target.closest('.sidebar a');
            if (menuItem && window.innerWidth <= 768) {
                window.toggleSidebar();
            }
        });
    }
</script>